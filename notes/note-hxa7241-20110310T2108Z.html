<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB">

<head profile="http://dublincore.org/documents/dcq-html/">
   <title>A small trick to Xor - (note-20110310T2108Z) - HXA7241</title>

   <link rel="schema.DC"       href="http://purl.org/dc/elements/1.1/" />
   <meta name="DC.title"       content="A small trick to Xor - (note-20110310T2108Z) - HXA7241" />
   <meta name="DC.subject"     content="programming, logic, arithmetic" />
   <meta name="DC.description" content="An arithmetic way to perform exclusive-or -- something that might have a small use somewhere." />
   <meta name="DC.type"        content="note" />
   <meta name="DC.type"        content="Text" />
   <link rel="DC.relation"     href="http://www.hxa.name/" />
   <meta name="DC.creator"     content="Harrison Ainsworth / HXA7241" />
   <meta name="DC.rights"      content="Creative Commons BY-SA 3.0 License." />
   <meta name="DC.date"        content="2011-03-10" />
   <meta name="DC.format"      content="text/html" />
   <meta name="DC.format"      content="css1" />
   <meta name="DC.language"    content="en-GB" />
   <link rel="DC.identifier"   href="http://www.hxa.name/notes/note-hxa7241-20110310T2108Z.html" />

   <meta name="keywords"       content="programming, logic, arithmetic" />
   <meta name="description"    content="An arithmetic way to perform exclusive-or -- something that might have a small use somewhere." />
   <meta name="document"       content="hxa7241note1" />
   <meta name="license"        content="Creative Commons by-sa 3.0" />

   <link rel="stylesheet" type="text/css" href="hxa7241-note.css" />
   <link rel="shortcut icon" type="image/x-icon" href="../style/hxa7241.ico" />

   <script id="hxa7241-js" type="application/x-javascript" src="../style/hxa7241.js"></script>
</head>


<body>
<div class="paper">

<div class="edge" id="header"><a href="http://www.hxa.name/notes/">HXA notes</a></div>


<div id="heading">
   <h1>A small trick to Xor</h1>
   <h3><a href="http://www.hxa.name/notes/note-hxa7241-20110310T2108Z.html" title="permalink">NOTE HXA7241 2011-03-10T21:08Z</a></h3>
</div>


<div id="text">

<div class="section" id="whole">

   <h5>An arithmetic way to perform exclusive-or &ndash; something that might have a small use somewhere.</h5>


   <p>Suppose you want the Xor of two booleans, but the language does not have Xor &ndash; like Scheme or Lua 5.1. The obvious thing to do is just implement it &ndash; it is very simple, e.g in Scheme: <code>(define (xor a b) (and (not (and a b)) (or a b)))</code>.</p>

   <p>But if you are dealing with numbers there might be a neat short cut. Instead of:</p>
   <pre><code>/* in C: check directions are on same side of surface (no transmission) */
const bool isSameSide = !( (inDot &lt; 0.0f) ^ (outDot &lt; 0.0f) );</code></pre>

   <p>do:</p>
   <pre><code>/* in C: check directions are on same side of surface (no transmission) */
const bool isSameSide = (inDot * outDot) &gt; 0.0;</code></pre>

   <p>Because multiplication of signs has the same truth-function shape as Xor:</p>
   <table cellspacing="0" cellpadding="0">
      <colgroup><col /><col /><col /></colgroup> <colgroup><col /><col /><col /></colgroup>
      <tr><th colspan="3" style="padding-right:2em;">exclusive-or</th>       <th colspan="3" style="padding-right:2em;">sign-multiply</th></tr>
      <tr><td>0</td> <td>0</td>  <td>0</td>    <td>-</td> <td>-</td>  <td>+</td></tr>
      <tr><td>0</td> <td>1</td>  <td>1</td>    <td>-</td> <td>+</td>  <td>-</td></tr>
      <tr><td>1</td> <td>0</td>  <td>1</td>    <td>+</td> <td>-</td>  <td>-</td></tr>
      <tr><td>1</td> <td>1</td>  <td>0</td>    <td>+</td> <td>+</td>  <td>+</td></tr>
   </table>

   <p>That is all.</p>
</div>

</div><!--text-->


<div class="edge" id="footer"><a href="http://www.hxa.name/notes/">http://www.hxa.name/notes/</a></div>

</div><!--paper-->

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-596081-1";
urchinTracker();
</script>

</body>

</html>
