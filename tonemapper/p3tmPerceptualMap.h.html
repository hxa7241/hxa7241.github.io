<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head profile="http://dublincore.org/documents/dcq-html/">
   <title>P3 Tonemapper - library main header file</title>

   <link rel="schema.DC"       href="http://purl.org/dc/elements/1.1/" />
   <meta name="DC.title"       content="P3 Tonemapper - library main header file" />
   <meta name="DC.subject"     content="software, source-code, C, C++" />
   <meta name="DC.description" content="Main C header file for P3 Tonemapper component library." />
   <meta name="DC.type"        content="source code" />
   <meta name="DC.type"        content="Text" />
   <meta name="DC.type"        content="Image" />
   <link rel="DC.relation"     href="http://www.hxa.name/" />
   <meta name="DC.creator"     content="Harrison Ainsworth / HXA7241" />
   <meta name="DC.publisher"   content="Harrison Ainsworth / HXA7241" />
   <meta name="DC.rights"      content="Copyright (c) 2005-2007, Harrison Ainsworth / HXA7241. GNU Lesser General Public License." />
   <meta name="DC.date"        content="2007-06-26" />
   <meta name="DC.format"      content="text/html" />
   <meta name="DC.format"      content="css1" />
   <meta name="DC.language"    content="en" />
   <link rel="DC.identifier"   href="http://www.hxa.name/tonemapper/p3tmPerceptualMap.h.html" />

   <meta name="keywords"       content="software, source-code, C, C++" />
   <meta name="description"    content="Main C header file for P3 Tonemapper component library." />
   <meta name="document"       content="hxa7241code1" />
   <meta name="license"        content="LGPL 2.1" />

   <style type="text/css">
      body
      {
         background-color:       white;
         text-align:             center;
         margin:                 0em;
         padding:                0em;
      }

      .edge
      {
         color:                  white;
         background-color:       black;
         font-family:            sans-serif;
         padding:                0.1em 0.4em 0.1em 0.4em;
      }

      #header
      {
         font-size:              2.2em;
         line-height:            1.15em;
         text-align:             left;
      }

      #footer
      {
         font-size:              1.1em;
         line-height:            1.15em;
         font-weight:            bold;
         text-align:             right;
      }

      #header div a,
      #footer div a
      {
         color:                  white;
         background-color:       black;
         text-decoration:        underline;
      }

      .paper
      {
         color:                  black;
         background-color:       white;
         font-family:            sans-serif;
         font-size:              1.1em;
         line-height:            1.4em;
         text-align:             left;
         text-indent:            0em;
         width:                  45em;
         border:                 0 none;
         margin-top:             7em;
         margin-bottom:          7em;
         margin-left:            auto;
         margin-right:           auto;
      }

      #heading
      {
         margin-bottom:          6em;
      }

      #colophon
      {
         margin-bottom:          6em;
      }

      #preface
      {
         margin-bottom:          6em;
      }

      #summary
      {
         text-align:             justify;
      }

      #contents
      {
         margin-bottom:          6em;
      }

      #contents ul,
      #contents ol
      {
         list-style-type:        none;
         margin-left:            0em;
         margin-bottom:          1.5em;
      }

      #contents ul ul,
      #contents ol ol,
      #contents ul ol,
      #contents ol ul
      {
         margin-left:            2em;
      }

      #contents ul li,
      #contents ol li
      {
         margin-top:             0.5em;
         margin-bottom:          0.5em;
      }

      .section
      {
         margin-bottom:          6em;
         text-align:             justify;
      }

      h1
      {
         font-size:              3.5em;
         line-height:            1em;
         font-weight:            normal;
         text-align:             left;
         margin-top:             0em;
         margin-bottom:          1em;
      }

      h2
      {
         font-size:              2em;
         line-height:            1em;
         font-weight:            normal;
         text-align:             left;
         margin-top:             0em;
         margin-bottom:          0.5em;
      }

      h3
      {
         font-size:              1.5em;
         line-height:            1.2em;
         font-weight:            normal;
         text-align:             left;
         margin-top:             1em;
         margin-bottom:          0.5em;
      }

      h4
      {
         font-size:              1.2em;
         line-height:            1.2em;
         font-weight:            bold;
         text-align:             left;
         margin-top:             1em;
         margin-bottom:          0em;
      }

      h5
      {
         font-size:              1em;
         line-height:            1.2em;
         font-weight:            bold;
         text-align:             left;
         margin:                 0.5em 0em 0.5em 0em;
      }

      h6
      {
         font-size:              1em;
         line-height:            1.2em;
         font-weight:            bold;
         text-align:             left;
         margin:                 0em 1.5em 0em 0em;
         float:                  left;
      }

      p
      {
         text-indent:            0em;
         margin-top:             0.75em;
         margin-bottom:          0.75em;
      }

      pre
      {
         font-family:            monospace;
         line-height:            1.3em;
         text-align:             left;
         white-space:            pre;
         margin-top:             1em;
         margin-bottom:          1em;
         padding:                1.5em;
         border:                 0.1em black solid;
      }

      ol, ul, dl
      {
         margin:                 0.5em 2em 0.5em 3em;
         padding:                0em;
      }

      dl
      {
         margin-left:            2em;
      }

      .plainlist
      {
         list-style-type:        none;
      }

      dl.plainlist
      {
         margin:                 0.5em 0em 0.5em 0em;
      }

      table
      {
         font-size:              1em;
         line-height:            1.4em;
         margin-top:             1em;
      }

      img
      {
         border:                 0.1em solid black;
         margin:                 1em 0em 1em 0em;
      }

      #references ul
      {
         list-style-type:        none;
         margin-left:            0em;
      }

      #references ul li
      {
         margin-top:             1em;
         margin-bottom:          1em;
      }

      sup
      {
         line-height:            0.5em;
      }

      code, tt
      {
         font-family:            monospace;
      }

      li, dt, dd
      {
         margin-top:             0.25em;
         margin-bottom:          0.25em;
      }

      dt
      {
         font-weight:            bold;
      }

      dl.plainlist dd
      {
         margin-left:            0em;
         margin-bottom:          0.5em;
      }

      a:link, a:visited
      {
         color:                  black;
         background-color:       white;
         text-decoration:        none;
      }

      a:hover
      {
         color:                  black;
         background-color:       white;
         text-decoration:        underline;
      }

      a:active
      {
         color:                  black;
         background-color:       rgb(208,208,208);
         text-decoration:        underline;
      }

      .highlight
      {
         background-color:       rgb(224,224,224);
      }

      .lowlight
      {
         color:                  rgb(144,144,144);
      }


      .code-preprocessor
      {
         color:                  rgb(108,0,108);
      }

      .code-comment
      {
         color:                  rgb(0,108,0);
      }

      .code-literal
      {
         color:                  rgb(0,108,108);
      }

      .code-keyword
      {
         color:                  rgb(0,0,144);
      }
   </style>

   <script id="hxa7241-js" type="application/x-javascript" src="../style/hxa7241.js"></script>
</head>


<body>
<div class="edge" id="header"><div><a href="http://www.hxa.name/tonemapper/">HXA tonemapper</a></div></div>

<div class="paper">


<div id="heading">
   <div id="title"><h1>P3 Tonemapper &ndash; library main header file</h1></div>
   <div id="author"><h4>Harrison Ainsworth</h4></div>
   <div id="uri"><a href="http://www.hxa.name/tonemapper/">http://www.hxa.name/tonemapper/</a></div>
   <div id="e">ARTIFEX <i>(&alpha;&tau;)</i> HXA7241 <i>(d&omicron;&tau;)</i> ORG</div>
   <p id="timestamp">2007-06-26</p>
   <div id="copyright">Copyright (c) 2005-2007, Harrison Ainsworth / HXA7241.</div>
   <div id="licensenotice">This work is licensed under the <a rel="license" href="http://www.gnu.org/copyleft/lesser.html">GNU Lesser General Public License</a>.</div>
</div>


<!--<div id="contents">
   <h2>Contents</h2>
   <ul>
      <li><a href="#part1">Part1</a></li>
      <li><a href="#part2">Part2</a></li>
   </ul>
</div>-->


<div id="text">

<div class="section" id="part2">
<!--<h3>Part 2</h3>-->

<pre><code>
<span class="code-comment">/*--------------------------------------------------------------------

   Perceptuum3 rendering components
   Copyright (c) 2005-2007, Harrison Ainsworth / HXA7241.

   http://www.hxa.name/

--------------------------------------------------------------------*/

/*--------------------------------------------------------------------

   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Lesser General Public
   License as published by the Free Software Foundation; either
   version 2.1 of the License, or (at your option) any later
   version.

   This library is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU Lesser General Public License for more details.

   You should have received a copy of the GNU Lesser General Public
   License along with this library; if not, write to the Free
   Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
   MA  02110-1301  USA

--------------------------------------------------------------------*/


/**
 * Interface for the P3 Tonemapper perceptual tonemapping component. Converts
 * HDR RGB images into integer RGB images.&lt;br/&gt;&lt;br/&gt;
 *
 * &lt;cite&gt;http://www.hxa.name/tonemapper/&lt;/cite&gt;
 *
 *
 * The library has a C interface, defined in p3tmPerceptualMap-v__.h and
 * p3tmPerceptualMap.h . The former, main, part should be stable across
 * versions. The latter specifies constants that will change with versions.
 * There are no other dependencies.&lt;br/&gt;&lt;br/&gt;
 *
 * To build a client: include p3tmPerceptualMap-v__.h and link with the
 * p3tonemapper.lib|.a import library (Windows) or the libp3tonemapper.so
 * library (Linux), or access purely dynamically.&lt;br/&gt;&lt;br/&gt;
 *
 *
 * There are three interface sections: meta-versioning, wrapper, object.
 * &lt;br/&gt;&lt;br/&gt;
 *
 * Versioning meta interface:&lt;br/&gt;
 * For checking a dynamically linked library supports the interfaces here.
 * &lt;br/&gt;&lt;br/&gt;
 *
 * Wrapper interface:&lt;br/&gt;
 * This provides simpler, more type-safe, alternatives to the object interface.
 * You can tonemap an image with a single function call, providing as many
 * options as convenient (and have pixel types checked (partially)).&lt;br/&gt;&lt;br/&gt;
 *
 * Object interface:&lt;br/&gt;
 * This is the underlying, most generally defined, interface.
 * It follows an object pattern, in three parts: construction and destruction,
 * commands to set options, and queries to operate on data. This form allows the
 * implementation to cache things, which might have performance advantages in
 * future versions. The use of pixel type-codes and void*s allows any format to
 * be supported in future versions.&lt;br/&gt;&lt;br/&gt;
 */</span>




<span class="code-preprocessor">#ifndef</span> p3tmPerceptualMap_h
<span class="code-preprocessor">#define</span> p3tmPerceptualMap_h


<span class="code-preprocessor">#ifdef</span> <span class="code-keyword">__cplusplus</span>
<span class="code-keyword">extern</span> <span class="code-literal">"C"</span> {
<span class="code-preprocessor">#endif</span>




<span class="code-comment">/*= version meta-interface ===================================================*/</span>

<span class="code-comment">/**
 * Return values for p3tmIsVersionSupported().
 */</span>
<span class="code-keyword">enum</span> p3tmESupported
{
   p3tm_SUPPORTED_NOT   = <span class="code-literal">0</span>,
   p3tm_SUPPORTED_FULLY = <span class="code-literal">2</span>
};


<span class="code-comment">/**
 * Get whether this interface is supported by the implementation.&lt;br/&gt;&lt;br/&gt;
 *
 * (For checking a dynamically linked library implementation.)
 *
 * @versionId  version ID value from the options/constants header.
 * @return     a p3tmESupported value
 */</span>
<span class="code-keyword">int</span> p3tmIsVersionSupported
(
   <span class="code-keyword">int</span> versionId
);








<span class="code-comment">/*= wrapper functions (new for version 1.2) ==================================*/</span>

<span class="code-comment">/**
 * Map an image (with single function call, and simple options).&lt;br/&gt;&lt;br/&gt;
 *
 * @i_mappingFlags  or-able bit options for the mapping, from the
 *                  options/constants header.
 *                  (give 0 for default: ideal)
 * @i_width         width of input and output images
 * @i_height        height of input and output images
 * @i_inPixels      array of input RGB pixels, floats, channels in R,G,B order
 * @o_outPixels     array of output RGB pixels, bytes, channels in R,G,B order
 *
 * @return  1 means succeeded, 0 means failed
 */</span>
<span class="code-keyword">int</span> p3tmMapFBSimple
(
   <span class="code-keyword">int</span>    i_mappingFlags,
   <span class="code-keyword">int</span>    i_width,
   <span class="code-keyword">int</span>    i_height,
   <span class="code-keyword">float</span>* i_inPixels,
   <span class="code-keyword">char</span>*  o_outPixels
);


<span class="code-comment">/**
 * Map an image (with single function call, and all options).&lt;br/&gt;&lt;br/&gt;
 *
 * @i_inChromaticities6      array of six floats { rx, ry, gx, gy, bx, by }
 *                           each value is &gt;= 0 and &lt;= 1
 *                           (give 0 for default: ITU-R BT.709 / sRGB)
 * @i_inWhitePoint2          array of two floats, each value is &gt; 0 and &lt; 1
 *                           (give 0 for default: ITU-R BT.709 / sRGB)
 * @i_inScalingAndOffset2    a transform to calibrate input pixels into cd/m^2.
 *                           array of two floats
 *                           (give 0 for default: 1 and 0)
 * @i_inViewAngleHorizontal  horizontal angle of view frustrum in degrees
 *                           (give 0 for default: 65)
 * @i_mappingFlags           or-able bit options for the mapping, from the
 *                           options/constants header.
 *                           (give 0 for default: ideal)
 * @i_outLuminanceRange2     min and max display luminance (cd/m^2).
 *                           array of two floats
 *                           (give 0 for default: 2 and 150 (TFT))
 * @i_outGamma               power transform to apply to output pixels
 *                           (give 0 for default: ITU-R BT.709: 0.45)
 * @i_width                  width of input and output images
 * @i_height                 height of input and output images
 * @i_inPixels               array of input RGB pixels, floats, channels in
 *                           R,G,B order
 * @o_outPixels              array of output RGB pixels, bytes, channels in
 *                           R,G,B order
 * @o_message128             string for exception message 128 chars long, (or 0)
 *
 * @return  1 means succeeded, 0 means failed
 */</span>
<span class="code-keyword">int</span> p3tmMapFBFull
(
   <span class="code-keyword">const float</span>* i_inChromaticities6,
   <span class="code-keyword">const float</span>* i_inWhitePoint2,
   <span class="code-keyword">const float</span>* i_inScalingAndOffset2,
   <span class="code-keyword">float</span>        i_inViewAngleHorizontal,
   <span class="code-keyword">int</span>          i_mappingFlags,
   <span class="code-keyword">const float</span>* i_outLuminanceRange2,
   <span class="code-keyword">float</span>        i_outGamma,
   <span class="code-keyword">int</span>          i_width,
   <span class="code-keyword">int</span>          i_height,
   <span class="code-keyword">float</span>*       i_inPixels,
   <span class="code-keyword">char</span>*        o_outPixels,
   <span class="code-keyword">char</span>*        o_message128
);


<span class="code-comment">/**
 * Map an image (typed for float and byte images).&lt;br/&gt;&lt;br/&gt;
 *
 * @i_perceptualMap  object from one of the p3tmCreate___ functions
 * @i_width          width of input and output images
 * @i_height         height of input and output images
 * @i_inPixels       array of input RGB pixels, floats, channels in R,G,B order
 * @o_outPixels      array of output RGB pixels, bytes, channels in R,G,B order
 * @o_message128     string for exception message 128 chars long, or (or 0)
 *
 * @return  1 means succeeded, 0 means failed
 */</span>
<span class="code-keyword">int</span> p3tmMapFB
(
   <span class="code-keyword">const void</span>* i_perceptualMap,
   <span class="code-keyword">int</span>         i_width,
   <span class="code-keyword">int</span>         i_height,
   <span class="code-keyword">float</span>*      i_inPixels,
   <span class="code-keyword">char</span>*       o_outPixels,
   <span class="code-keyword">char</span>*       o_message128
);








<span class="code-comment">/*= object interface (as in version 1.1) =====================================*/</span>

<span class="code-comment">/*- basic object services ----------------------------------------------------*/</span>
<span class="code-comment">/**
 * Create a default PerceptualMap.&lt;br/&gt;&lt;br/&gt;
 *
 * Defaults to: ITU-R BT.709 / sRGB input color space, cd/m^2 luminance pixel
 * values, 65 degrees view angle, ideal viewer mapping, TFT display range,
 * ITU-R BT.709 gamma.
 *
 * @return  new PerceptualMap, or 0 for failure
 */</span>
<span class="code-keyword">void</span>* p3tmCreatePerceptualMapDefault();


<span class="code-comment">/**
 * Create a specified PerceptualMap.&lt;br/&gt;&lt;br/&gt;
 *
 * Give zeros to set to defaults.&lt;br/&gt;&lt;br/&gt;
 *
 * @inChromaticities6      array of six floats { rx, ry, gx, gy, bx, by }.
 *                         each value is &gt;= 0 and &lt;= 1
 *                         (default: ITU-R BT.709 / sRGB)
 * @inWhitePoint2          array of two floats, each value is &gt; 0 and &lt; 1
 *                         (default: ITU-R BT.709 / sRGB)
 * @inScalingAndOffset2    a transform to calibrate input pixels into cd/m^2.
 *                         array of two floats { scaling, offset }
 *                         (default: 1 and 0)
 * @inViewAngleHorizontal  horizontal angle of view frustrum in degrees
 *                         (default: 65)
 * @mappingFlags           or-able bit options for the mapping, from the
 *                         options/constants header.
 *                         (default: ideal)
 * @outLuminanceRange2     min and max display luminance (cd/m^2).
 *                         array of two floats { min, max }
 *                         (default: 2 and 150 (TFT))
 * @outGamma               power transform to apply to output pixels
 *                         (default: ITU-R BT.709: 0.45)
 *
 * @return  new PerceptualMap, or 0 for failure
 */</span>
<span class="code-keyword">void</span>* p3tmCreatePerceptualMap
(
   <span class="code-keyword">const float</span>* inChromaticities6,
   <span class="code-keyword">const float</span>* inWhitePoint2,
   <span class="code-keyword">const float</span>* inScalingAndOffset2,
   <span class="code-keyword">float</span>        inViewAngleHorizontal,
   <span class="code-keyword">int</span>          mappingFlags,
   <span class="code-keyword">const float</span>* outLuminanceRange2,
   <span class="code-keyword">float</span>        outGamma
);


<span class="code-comment">/**
 * Free a PerceptualMap.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap  object from one of the p3tmCreate___ functions
 *
 * @return  1 means succeeded, 0 means failed
 */</span>
<span class="code-keyword">int</span> p3tmFreePerceptualMap
(
   <span class="code-keyword">void</span>* perceptualMap
);


<span class="code-comment">/**
 * Create a copy of a PerceptualMap.&lt;br/&gt;&lt;br/&gt;
 *
 * @other  object from one of the p3tmCreate___ functions
 *
 * @return  new PerceptualMap, or 0 for failure
 */</span>
<span class="code-keyword">void</span>* p3tmCreatePerceptualMapCopy
(
   <span class="code-keyword">const void</span>* other
);


<span class="code-comment">/**
 * Assign one PerceptualMap to another.&lt;br/&gt;&lt;br/&gt;
 *
 * @source  object from one of the p3tmCreate___ functions
 */</span>
<span class="code-keyword">void</span> p3tmAssignPerceptualMap
(
   <span class="code-keyword">const void</span>* source,
   <span class="code-keyword">void</span>*       target
);




<span class="code-comment">/*- commands -----------------------------------------------------------------*/</span>
<span class="code-comment">/**
 * Set the input image chromaticities and whitepoint.&lt;br/&gt;&lt;br/&gt;
 *
 * Give zeros to set to defaults (ITU-R BT.709 / sRGB).&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap      object from one of the p3tmCreate___ functions
 * @inChromaticities6  array of six floats { rx, ry, gx, gy, bx, by }
 *                     each value is &gt;= 0 and &lt;= 1
 * @inWhitePoint2      array of two floats, each value is &gt; 0 and &lt; 1
 */</span>
<span class="code-keyword">void</span> p3tmSetInputColorSpace     ( <span class="code-keyword">void</span>*        perceptualMap,
                                  <span class="code-keyword">const float</span>* inChromaticities6,
                                  <span class="code-keyword">const float</span>* inWhitePoint2 );

<span class="code-comment">/**
 * Set the input pixels transform.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap        object from one of the p3tmCreate___ functions
 * @inScalingAndOffset2  a transform to calibrate input pixels into cd/m^2.
 *                       array of two floats { scaling, offset }.
 *                       Give zero to set to default (1 and 0).
 */</span>
<span class="code-keyword">void</span> p3tmSetInputLuminanceScale ( <span class="code-keyword">void</span>*        perceptualMap,
                                  <span class="code-keyword">const float</span>* inScalingAndOffset2 );

<span class="code-comment">/**
 * Set the input image view angle.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap          object from one of the p3tmCreate___ functions
 * @inViewAngleHorizontal  horizontal angle of view frustrum in degrees.
 *                         Give zero to set to default (65).
 */</span>
<span class="code-keyword">void</span> p3tmSetInputViewAngle      ( <span class="code-keyword">void</span>* perceptualMap,
                                  <span class="code-keyword">float</span> inViewAngleHorizontal );

<span class="code-comment">/**
 * Set the mapping options.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap  object from one of the p3tmCreate___ functions
 * @mappingFlags   or-able bit options for the mapping, from the
 *                 options/constants header.
 *                 Give zero to set to default (ideal).
 */</span>
<span class="code-keyword">void</span> p3tmSetMappingFeatures     ( <span class="code-keyword">void</span>* perceptualMap,
                                  <span class="code-keyword">int</span>   mappingFlags );

<span class="code-comment">/**
 * Set the output display range.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap       object from one of the p3tmCreate___ functions
 * @outLuminanceRange2  min and max display luminance (cd/m^2).
 *                      array of two floats { min, max }.
 *                      Give zero to set to default (2 and 150 (TFT)).
 */</span>
<span class="code-keyword">void</span> p3tmSetOutputLuminanceRange( <span class="code-keyword">void</span>*        perceptualMap,
                                  <span class="code-keyword">const float</span>* outLuminanceRange2 );


<span class="code-comment">/**
 * Set the output gamma power transform.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap  object from one of the p3tmCreate___ functions
 * @outGamma       power transform to apply to output pixels.
 *                 Give zero to set to default (ITU-R BT.709: 0.45).
 */</span>
<span class="code-keyword">void</span> p3tmSetOutputGamma         ( <span class="code-keyword">void</span>* perceptualMap,
                                  <span class="code-keyword">float</span> outGamma );




<span class="code-comment">/*- queries ------------------------------------------------------------------*/</span>
<span class="code-comment">/**
 * Get options.&lt;br/&gt;&lt;br/&gt;
 *
 * Give zeros for values not wanted.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap          object from one of the p3tmCreate___ functions
 * @inChromaticities6      array of six floats { rx, ry, gx, gy, bx, by }
 * @inWhitePoint2          array of two floats
 * @inScalingAndOffset2    a transform to calibrate input pixels into cd/m^2.
 *                         array of two floats { scaling, offset }
 * @inViewAngleHorizontal  horizontal angle of view frustrum in degrees
 * @mappingFlags           or-able bit options for the mapping, from the
 *                         options/constants header.
 * @outLuminanceRange2     min and max display luminance (cd/m^2).
 *                         array of two floats { min, max }
 * @pOutGamma              power transform applied to output pixels
 */</span>
<span class="code-keyword">void</span> p3tmGetOptions
(
   <span class="code-keyword">const void</span>* perceptualMap,
   <span class="code-keyword">float</span>*      inChromaticities6,
   <span class="code-keyword">float</span>*      inWhitePoint2,
   <span class="code-keyword">float</span>*      inScalingAndOffset2,
   <span class="code-keyword">float</span>*      inViewAngleHorizontal,
   <span class="code-keyword">int</span>*        mappingFlags,
   <span class="code-keyword">float</span>*      outLuminanceRange2,
   <span class="code-keyword">float</span>*      pOutGamma
);


<span class="code-comment">/**
 * Map an image.&lt;br/&gt;&lt;br/&gt;
 *
 * @perceptualMap  object from one of the p3tmCreate___ functions
 * @width          width of input and output images
 * @height         height of input and output images
 * @inPixelsType   input pixels type, from the options/constants header
 * @inPixels       array of input RGB pixels
 * @outPixelsType  output pixels type, from the options/constants header
 * @outPixels      array of output RGB pixels
 * @message128     string for exception message 128 chars long, (or 0)
 *
 * @return  1 means succeeded, 0 means failed
 */</span>
<span class="code-keyword">int</span> p3tmMap
(
   <span class="code-keyword">const void</span>* perceptualMap,
   <span class="code-keyword">int</span>         width,
   <span class="code-keyword">int</span>         height,
   <span class="code-keyword">int</span>         inPixelsType,
   <span class="code-keyword">void</span>*       inPixels,
   <span class="code-keyword">int</span>         outPixelsType,
   <span class="code-keyword">void</span>*       outPixels,
   <span class="code-keyword">char</span>*       message128
);








<span class="code-comment">/*= test =====================================================================*/</span>

<span class="code-keyword">int</span> p3tmTestUnits
(
   <span class="code-keyword">int</span> whichTest,
   <span class="code-keyword">int</span> isOutput,
   <span class="code-keyword">int</span> isVerbose,
   <span class="code-keyword">int</span> seed
);




<span class="code-preprocessor">#ifdef</span> <span class="code-keyword">__cplusplus</span>
} <span class="code-comment">/* extern "C" */</span>
<span class="code-preprocessor">#endif</span>


<span class="code-preprocessor">#endif</span><span class="code-comment">//p3tmPerceptualMap_h</span>
</code></pre>

</div>


</div>

</div>

<div class="edge" id="footer"><div><a href="http://www.hxa.name/tonemapper/">http://www.hxa.name/tonemapper/</a></div></div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-596081-1";
urchinTracker();
</script>

</body>

</html>
